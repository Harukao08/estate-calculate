<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ì„ëŒ€ì†Œë“ì„¸ ê³„ì‚°ê¸° - ë¶€ë™ì‚°ê³„ì‚°í•˜ê¸°</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@400;500;700;900&family=Archivo:wght@600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="/css/main.css">
    <link rel="stylesheet" href="/css/calculator.css">
</head>
<body>
    <!-- Header -->
    <header class="header">
        <div class="logo">
            <div class="logo-icon">ë¶€</div>
            <a href="/" style="text-decoration: none; color: inherit;">ë¶€ë™ì‚°ê³„ì‚°í•˜ê¸°</a>
        </div>
    </header>

    <!-- Main Content -->
    <main class="container" style="padding-top: 32px; padding-bottom: 80px;">
        <a href="/hold" class="back-button">
            â† ì§‘ì„ ê°€ì§€ê³  ìˆì–´ìš”
        </a>

        <div class="calculator-header">
            <div class="calculator-icon-large">ğŸ¦</div>
            <h1 class="calculator-title">ì„ëŒ€ì†Œë“ì„¸ ê³„ì‚°ê¸°</h1>
            <p class="calculator-subtitle">ì›”ì„¸ ìˆ˜ì…ì— ëŒ€í•œ ì„¸ê¸ˆì„ ê³„ì‚°í•©ë‹ˆë‹¤</p>
        </div>

        <!-- ì„ëŒ€ì†Œë“ì„¸ ì•ˆë‚´ -->
        <div class="info-box">
            <div class="info-title">
                ğŸ’¡ ì„ëŒ€ì†Œë“ì„¸ë€?
            </div>
            <div class="info-content">
                ì£¼íƒì„ ì„ëŒ€í•˜ì—¬ ë°œìƒí•œ ì†Œë“ì— ëŒ€í•´ ë‚´ëŠ” ì„¸ê¸ˆì…ë‹ˆë‹¤.
                <br><br>
                â€¢ <strong>ê³¼ì„¸ ëŒ€ìƒ</strong>: ì—°ê°„ ì„ëŒ€ì†Œë“ 2ì²œë§Œì› ì´ˆê³¼ (í•„ìˆ˜ ì‹ ê³ )<br>
                â€¢ <strong>ë¶„ë¦¬ê³¼ì„¸</strong>: ì—°ê°„ 2ì²œë§Œì› ì´í•˜ ì‹œ 14% ë‹¨ì¼ì„¸ìœ¨ ì„ íƒ ê°€ëŠ¥<br>
                â€¢ <strong>ì¢…í•©ê³¼ì„¸</strong>: ë‹¤ë¥¸ ì†Œë“ê³¼ í•©ì‚°í•˜ì—¬ ëˆ„ì§„ì„¸ìœ¨ ì ìš©<br>
                â€¢ <strong>ì‹ ê³  ê¸°ê°„</strong>: ë§¤ë…„ 5ì›” ì¢…í•©ì†Œë“ì„¸ ì‹ ê³ 
            </div>
        </div>

        <!-- ê³„ì‚° ì…ë ¥ í¼ -->
        <div class="calc-section">
            <h2 class="calc-section-title">ì„ëŒ€ ì •ë³´</h2>
            
            <div class="input-group">
                <label class="input-label">ì›”ì„¸ ê¸ˆì•¡</label>
                <div class="input-wrapper">
                    <input type="text" id="monthlyRent" class="input-field" placeholder="ì˜ˆ: 1000000" inputmode="numeric">
                    <span class="input-suffix">ì›</span>
                </div>
                <div class="input-helper">ë§¤ì›” ë°›ëŠ” ì›”ì„¸ ê¸ˆì•¡</div>
            </div>

            <div class="input-group">
                <label class="input-label">ë³´ì¦ê¸ˆ</label>
                <div class="input-wrapper">
                    <input type="text" id="deposit" class="input-field" placeholder="ì˜ˆ: 50000000" inputmode="numeric">
                    <span class="input-suffix">ì›</span>
                </div>
                <div class="input-helper">ì „ì„¸ ë³´ì¦ê¸ˆ ë˜ëŠ” ì›”ì„¸ ë³´ì¦ê¸ˆ</div>
            </div>

            <div class="input-group">
                <label class="input-label">ì„ëŒ€ ì£¼íƒ ìˆ˜</label>
                <div class="radio-group">
                    <label class="radio-item">
                        <input type="radio" name="houseCount" value="1" checked>
                        <span class="radio-label">1ì£¼íƒ</span>
                    </label>
                    <label class="radio-item">
                        <input type="radio" name="houseCount" value="2">
                        <span class="radio-label">2ì£¼íƒ</span>
                    </label>
                    <label class="radio-item">
                        <input type="radio" name="houseCount" value="3">
                        <span class="radio-label">3ì£¼íƒ ì´ìƒ</span>
                    </label>
                </div>
            </div>

            <div class="input-group">
                <label class="input-label">ì„ëŒ€ ê¸°ê°„</label>
                <div class="radio-group">
                    <label class="radio-item">
                        <input type="radio" name="rentalPeriod" value="12" checked>
                        <span class="radio-label">1ë…„ (12ê°œì›”)</span>
                    </label>
                    <label class="radio-item">
                        <input type="radio" name="rentalPeriod" value="6">
                        <span class="radio-label">6ê°œì›”</span>
                    </label>
                    <label class="radio-item">
                        <input type="radio" name="rentalPeriod" value="custom">
                        <span class="radio-label">ì§ì ‘ ì…ë ¥</span>
                    </label>
                </div>
            </div>

            <div id="customPeriodSection" class="input-group" style="display: none;">
                <label class="input-label">ì„ëŒ€ ê°œì›” ìˆ˜</label>
                <div class="input-wrapper">
                    <input type="text" id="customPeriod" class="input-field" placeholder="ì˜ˆ: 3" inputmode="numeric">
                    <span class="input-suffix">ê°œì›”</span>
                </div>
            </div>
        </div>

        <div class="calc-section">
            <h2 class="calc-section-title">ê¸°íƒ€ ì†Œë“ ë° ê³µì œ</h2>
            
            <div class="input-group">
                <label class="input-label">ê¸°íƒ€ ì¢…í•©ì†Œë“ (ì—°ê°„)</label>
                <div class="input-wrapper">
                    <input type="text" id="otherIncome" class="input-field" placeholder="0" inputmode="numeric" value="0">
                    <span class="input-suffix">ì›</span>
                </div>
                <div class="input-helper">ê·¼ë¡œì†Œë“, ì‚¬ì—…ì†Œë“ ë“± (ì¢…í•©ê³¼ì„¸ ë¹„êµìš©)</div>
            </div>

            <div class="input-group">
                <label class="input-label">í•„ìš”ê²½ë¹„ìœ¨</label>
                <div class="radio-group">
                    <label class="radio-item">
                        <input type="radio" name="expenseRate" value="basic" checked>
                        <span class="radio-label">ê¸°ë³¸ ê³µì œ (50%)</span>
                    </label>
                    <label class="radio-item">
                        <input type="radio" name="expenseRate" value="registered">
                        <span class="radio-label">ë“±ë¡ì„ëŒ€ (60%)</span>
                    </label>
                </div>
                <div class="input-helper">ì„ëŒ€ì‚¬ì—…ì ë“±ë¡ ì‹œ 60% ê³µì œ</div>
            </div>

            <button class="calc-button" id="calculateButton">
                ì„ëŒ€ì†Œë“ì„¸ ê³„ì‚°í•˜ê¸°
            </button>
        </div>

        <!-- ê²°ê³¼ ì˜ì—­ -->
        <div id="resultSection" class="result-section" style="display: none;">
            <h2 class="result-title">ğŸ’° ê³„ì‚° ê²°ê³¼</h2>
            
            <!-- ë¶„ë¦¬ê³¼ì„¸ ê²°ê³¼ -->
            <div class="result-card total">
                <div class="result-label">ë¶„ë¦¬ê³¼ì„¸ ì„ íƒ ì‹œ (14%)</div>
                <div class="result-value" id="separateTax">0ì›</div>
            </div>

            <div class="result-breakdown">
                <h3 class="breakdown-title">ë¶„ë¦¬ê³¼ì„¸ ê³„ì‚° ê³¼ì •</h3>
                <div class="breakdown-item">
                    <span class="breakdown-label">ì—°ê°„ ì›”ì„¸ ìˆ˜ì…</span>
                    <span class="breakdown-value" id="annualRent">0ì›</span>
                </div>
                <div class="breakdown-item">
                    <span class="breakdown-label">ê°„ì£¼ì„ëŒ€ë£Œ (ë³´ì¦ê¸ˆ)</span>
                    <span class="breakdown-value" id="depositIncome">0ì›</span>
                </div>
                <div class="breakdown-item">
                    <span class="breakdown-label">ì´ ì„ëŒ€ì†Œë“</span>
                    <span class="breakdown-value" id="totalRentalIncome">0ì›</span>
                </div>
                <div class="breakdown-item">
                    <span class="breakdown-label">í•„ìš”ê²½ë¹„ ê³µì œ (-)</span>
                    <span class="breakdown-value" id="expense">0ì›</span>
                </div>
                <div class="breakdown-item" style="background: rgba(0, 102, 255, 0.05); padding: 12px; border-radius: 8px; margin-top: 8px;">
                    <span class="breakdown-label" style="font-weight: 600;">ê³¼ì„¸í‘œì¤€</span>
                    <span class="breakdown-value" style="font-weight: 600; color: var(--primary);" id="separateTaxBase">0ì›</span>
                </div>
                <div class="breakdown-item">
                    <span class="breakdown-label">ì†Œë“ì„¸ (14%)</span>
                    <span class="breakdown-value" id="separateIncomeTax">0ì›</span>
                </div>
                <div class="breakdown-item">
                    <span class="breakdown-label">ì§€ë°©ì†Œë“ì„¸ (1.4%)</span>
                    <span class="breakdown-value" id="separateLocalTax">0ì›</span>
                </div>
            </div>

            <!-- ì¢…í•©ê³¼ì„¸ ê²°ê³¼ -->
            <div class="result-card" style="background: linear-gradient(135deg, #697386 0%, #4A5568 100%); margin-top: 24px;">
                <div class="result-label">ì¢…í•©ê³¼ì„¸ ì„ íƒ ì‹œ (ëˆ„ì§„ì„¸ìœ¨)</div>
                <div class="result-value" id="comprehensiveTax">0ì›</div>
            </div>

            <div class="result-breakdown">
                <h3 class="breakdown-title">ì¢…í•©ê³¼ì„¸ ê³„ì‚° (ì°¸ê³ )</h3>
                <div class="breakdown-item">
                    <span class="breakdown-label">ì„ëŒ€ì†Œë“ ê³¼ì„¸í‘œì¤€</span>
                    <span class="breakdown-value" id="comprehensiveRentalBase">0ì›</span>
                </div>
                <div class="breakdown-item">
                    <span class="breakdown-label">ê¸°íƒ€ ì¢…í•©ì†Œë“</span>
                    <span class="breakdown-value" id="displayOtherIncome">0ì›</span>
                </div>
                <div class="breakdown-item">
                    <span class="breakdown-label">ì´ ê³¼ì„¸í‘œì¤€</span>
                    <span class="breakdown-value" id="comprehensiveTaxBase">0ì›</span>
                </div>
                <div class="breakdown-item">
                    <span class="breakdown-label">ì¢…í•©ì†Œë“ì„¸ (ëˆ„ì§„)</span>
                    <span class="breakdown-value" id="comprehensiveIncomeTax">0ì›</span>
                </div>
                <div class="breakdown-item">
                    <span class="breakdown-label">ì§€ë°©ì†Œë“ì„¸</span>
                    <span class="breakdown-value" id="comprehensiveLocalTax">0ì›</span>
                </div>
            </div>

            <!-- ë¹„êµ ë¶„ì„ -->
            <div class="result-breakdown">
                <h3 class="breakdown-title">ì„¸ê¸ˆ ë¹„êµ ë¶„ì„</h3>
                <div class="breakdown-item">
                    <span class="breakdown-label">ë¶„ë¦¬ê³¼ì„¸ ì„ íƒ ì‹œ</span>
                    <span class="breakdown-value" id="compareSeparate">0ì›</span>
                </div>
                <div class="breakdown-item">
                    <span class="breakdown-label">ì¢…í•©ê³¼ì„¸ ì„ íƒ ì‹œ</span>
                    <span class="breakdown-value" id="compareComprehensive">0ì›</span>
                </div>
                <div class="breakdown-item" style="background: rgba(0, 217, 181, 0.1); padding: 12px; border-radius: 8px; margin-top: 8px;">
                    <span class="breakdown-label" style="font-weight: 700; color: var(--secondary);">ìœ ë¦¬í•œ ì„ íƒ</span>
                    <span class="breakdown-value" style="font-weight: 700; color: var(--secondary);" id="recommendation">-</span>
                </div>
            </div>

            <div class="result-info">
                <div class="info-icon">â„¹ï¸</div>
                <div class="info-text" id="taxInfo"></div>
            </div>

            <div class="result-info" style="background: rgba(255, 87, 51, 0.05); border-color: rgba(255, 87, 51, 0.2);" id="warningBox">
                <div class="info-icon">âš ï¸</div>
                <div class="info-text" id="warningText"></div>
            </div>

            <div class="result-actions">
                <button class="action-button secondary" id="resetButton">
                    ë‹¤ì‹œ ê³„ì‚°í•˜ê¸°
                </button>
                <button class="action-button primary" id="shareButton">
                    ê²°ê³¼ ê³µìœ í•˜ê¸°
                </button>
            </div>
        </div>
    </main>

    <script>
        // DOM ë¡œë“œ ì™„ë£Œ í›„ ì‹¤í–‰
        document.addEventListener('DOMContentLoaded', function() {
            // ê³„ì‚° ë²„íŠ¼
            const calculateButton = document.getElementById('calculateButton');
            if (calculateButton) {
                calculateButton.addEventListener('click', calculateRentalIncomeTax);
            }

            // ë¦¬ì…‹ ë²„íŠ¼
            const resetButton = document.getElementById('resetButton');
            if (resetButton) {
                resetButton.addEventListener('click', resetCalculator);
            }

            // ê³µìœ  ë²„íŠ¼
            const shareButton = document.getElementById('shareButton');
            if (shareButton) {
                shareButton.addEventListener('click', shareResult);
            }

            // ìˆ«ì ì…ë ¥ í•„ë“œ í¬ë§·íŒ…
            ['monthlyRent', 'deposit', 'otherIncome', 'customPeriod'].forEach(id => {
                const input = document.getElementById(id);
                if (input) {
                    input.addEventListener('input', function(e) {
                        let value = e.target.value.replace(/[^0-9]/g, '');
                        e.target.value = value;
                    });

                    input.addEventListener('keypress', function(e) {
                        if (e.key === 'Enter') {
                            calculateRentalIncomeTax();
                        }
                    });
                }
            });

            // ì„ëŒ€ ê¸°ê°„ ì„ íƒ
            const rentalPeriodInputs = document.querySelectorAll('input[name="rentalPeriod"]');
            rentalPeriodInputs.forEach(input => {
                input.addEventListener('change', function() {
                    const customSection = document.getElementById('customPeriodSection');
                    if (this.value === 'custom') {
                        customSection.style.display = 'block';
                    } else {
                        customSection.style.display = 'none';
                    }
                });
            });
        });

        // ìˆ«ì í¬ë§·íŒ…
        function formatNumber(num) {
            return new Intl.NumberFormat('ko-KR').format(Math.floor(num));
        }

        function formatCurrency(num) {
            return formatNumber(num) + 'ì›';
        }

        function formatKoreanCurrency(num) {
            const billion = Math.floor(num / 100000000);
            const tenThousand = Math.floor((num % 100000000) / 10000);
            const remainder = num % 10000;
            
            let result = '';
            if (billion > 0) result += billion + 'ì–µ ';
            if (tenThousand > 0) result += formatNumber(tenThousand) + 'ë§Œ ';
            if (remainder > 0 && billion === 0) result += formatNumber(remainder);
            
            return result.trim() + 'ì›';
        }

        // ì¢…í•©ì†Œë“ì„¸ ëˆ„ì§„ì„¸ìœ¨ ê³„ì‚°
        function calculateProgressiveTax(taxBase) {
            let tax = 0;
            if (taxBase <= 14000000) {
                tax = taxBase * 0.06;
            } else if (taxBase <= 50000000) {
                tax = taxBase * 0.15 - 1260000;
            } else if (taxBase <= 88000000) {
                tax = taxBase * 0.24 - 5760000;
            } else if (taxBase <= 150000000) {
                tax = taxBase * 0.35 - 15440000;
            } else if (taxBase <= 300000000) {
                tax = taxBase * 0.38 - 19940000;
            } else if (taxBase <= 500000000) {
                tax = taxBase * 0.40 - 25940000;
            } else if (taxBase <= 1000000000) {
                tax = taxBase * 0.42 - 35940000;
            } else {
                tax = taxBase * 0.45 - 65940000;
            }
            return tax;
        }

        // ì„ëŒ€ì†Œë“ì„¸ ê³„ì‚° í•¨ìˆ˜
        function calculateRentalIncomeTax() {
            const monthlyRent = parseInt(document.getElementById('monthlyRent').value) || 0;
            const deposit = parseInt(document.getElementById('deposit').value) || 0;
            const otherIncome = parseInt(document.getElementById('otherIncome').value) || 0;
            const expenseRate = document.querySelector('input[name="expenseRate"]:checked').value;
            const rentalPeriodValue = document.querySelector('input[name="rentalPeriod"]:checked').value;
            
            if (monthlyRent === 0 && deposit === 0) {
                alert('ì›”ì„¸ ê¸ˆì•¡ ë˜ëŠ” ë³´ì¦ê¸ˆì„ ì…ë ¥í•´ì£¼ì„¸ìš”.');
                return;
            }

            // ì„ëŒ€ ê¸°ê°„ ê²°ì •
            let rentalMonths = 12;
            if (rentalPeriodValue === 'custom') {
                rentalMonths = parseInt(document.getElementById('customPeriod').value) || 12;
            } else {
                rentalMonths = parseInt(rentalPeriodValue);
            }

            // 1. ì—°ê°„ ì›”ì„¸ ìˆ˜ì…
            const annualRent = monthlyRent * rentalMonths;

            // 2. ê°„ì£¼ì„ëŒ€ë£Œ ê³„ì‚° (ë³´ì¦ê¸ˆì´ 3ì–µ ì´ˆê³¼ ì‹œ)
            let depositIncome = 0;
            if (deposit > 300000000) {
                const excessDeposit = deposit - 300000000;
                const interestRate = 0.025; // 2.5% (2026ë…„ ê¸°ì¤€)
                depositIncome = excessDeposit * interestRate * (rentalMonths / 12);
            }

            // 3. ì´ ì„ëŒ€ì†Œë“
            const totalRentalIncome = annualRent + depositIncome;

            // 4. í•„ìš”ê²½ë¹„ ê³µì œ
            let expenseRateValue = 0.5; // ê¸°ë³¸ 50%
            if (expenseRate === 'registered') {
                expenseRateValue = 0.6; // ë“±ë¡ì„ëŒ€ 60%
            }
            const expense = totalRentalIncome * expenseRateValue;

            // 5. ê³¼ì„¸í‘œì¤€
            const rentalTaxBase = totalRentalIncome - expense;

            // === ë¶„ë¦¬ê³¼ì„¸ ê³„ì‚° (14%) ===
            const separateIncomeTax = rentalTaxBase * 0.14;
            const separateLocalTax = separateIncomeTax * 0.1; // ì§€ë°©ì†Œë“ì„¸ 10%
            const separateTaxTotal = separateIncomeTax + separateLocalTax;

            // === ì¢…í•©ê³¼ì„¸ ê³„ì‚° ===
            const comprehensiveTaxBase = rentalTaxBase + otherIncome;
            const comprehensiveIncomeTax = calculateProgressiveTax(comprehensiveTaxBase);
            const comprehensiveLocalTax = comprehensiveIncomeTax * 0.1;
            const comprehensiveTaxTotal = comprehensiveIncomeTax + comprehensiveLocalTax;

            // ì•ˆë‚´ ë©”ì‹œì§€
            let infoMessage = '';
            let warningMessage = '';
            let recommendation = '';

            if (totalRentalIncome <= 20000000) {
                infoMessage = 'ì—°ê°„ ì„ëŒ€ì†Œë“ 2ì²œë§Œì› ì´í•˜ë¡œ ë¶„ë¦¬ê³¼ì„¸(14%) ì„ íƒ ê°€ëŠ¥í•©ë‹ˆë‹¤.';
            } else {
                infoMessage = 'ì—°ê°„ ì„ëŒ€ì†Œë“ 2ì²œë§Œì› ì´ˆê³¼ë¡œ ì¢…í•©ê³¼ì„¸ í•„ìˆ˜ì…ë‹ˆë‹¤.';
                warningMessage = 'ì—°ê°„ ì„ëŒ€ì†Œë“ì´ 2ì²œë§Œì›ì„ ì´ˆê³¼í•˜ì—¬ ì¢…í•©ê³¼ì„¸ë¡œ ì‹ ê³ í•´ì•¼ í•©ë‹ˆë‹¤. ë¶„ë¦¬ê³¼ì„¸ ì„ íƒì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.';
            }

            // ìœ ë¦¬í•œ ì„ íƒ íŒë‹¨
            if (totalRentalIncome <= 20000000) {
                if (separateTaxTotal < comprehensiveTaxTotal) {
                    recommendation = 'ë¶„ë¦¬ê³¼ì„¸ (ì„¸ê¸ˆ ' + formatCurrency(comprehensiveTaxTotal - separateTaxTotal) + ' ì ˆê°)';
                } else if (separateTaxTotal > comprehensiveTaxTotal) {
                    recommendation = 'ì¢…í•©ê³¼ì„¸ (ì„¸ê¸ˆ ' + formatCurrency(separateTaxTotal - comprehensiveTaxTotal) + ' ì ˆê°)';
                } else {
                    recommendation = 'ë™ì¼ (ì„ íƒ ë¬´ê´€)';
                }
            } else {
                recommendation = 'ì¢…í•©ê³¼ì„¸ í•„ìˆ˜ (2ì²œë§Œì› ì´ˆê³¼)';
            }

            // ê²°ê³¼ í‘œì‹œ
            document.getElementById('separateTax').textContent = formatKoreanCurrency(separateTaxTotal);
            document.getElementById('annualRent').textContent = formatCurrency(annualRent);
            document.getElementById('depositIncome').textContent = formatCurrency(depositIncome);
            document.getElementById('totalRentalIncome').textContent = formatCurrency(totalRentalIncome);
            document.getElementById('expense').textContent = formatCurrency(expense);
            document.getElementById('separateTaxBase').textContent = formatCurrency(rentalTaxBase);
            document.getElementById('separateIncomeTax').textContent = formatCurrency(separateIncomeTax);
            document.getElementById('separateLocalTax').textContent = formatCurrency(separateLocalTax);

            document.getElementById('comprehensiveTax').textContent = formatKoreanCurrency(comprehensiveTaxTotal);
            document.getElementById('comprehensiveRentalBase').textContent = formatCurrency(rentalTaxBase);
            document.getElementById('displayOtherIncome').textContent = formatCurrency(otherIncome);
            document.getElementById('comprehensiveTaxBase').textContent = formatCurrency(comprehensiveTaxBase);
            document.getElementById('comprehensiveIncomeTax').textContent = formatCurrency(comprehensiveIncomeTax);
            document.getElementById('comprehensiveLocalTax').textContent = formatCurrency(comprehensiveLocalTax);

            document.getElementById('compareSeparate').textContent = formatCurrency(separateTaxTotal);
            document.getElementById('compareComprehensive').textContent = formatCurrency(comprehensiveTaxTotal);
            document.getElementById('recommendation').textContent = recommendation;

            document.getElementById('taxInfo').textContent = infoMessage;

            // ê²½ê³  ë©”ì‹œì§€
            const warningBox = document.getElementById('warningBox');
            if (warningMessage) {
                warningBox.style.display = 'block';
                document.getElementById('warningText').textContent = warningMessage;
            } else {
                warningBox.style.display = 'none';
            }

            // ê²°ê³¼ ì„¹ì…˜ í‘œì‹œ
            document.getElementById('resultSection').style.display = 'block';
            document.getElementById('resultSection').scrollIntoView({ behavior: 'smooth', block: 'nearest' });
        }

        // ê³„ì‚°ê¸° ë¦¬ì…‹
        function resetCalculator() {
            document.getElementById('monthlyRent').value = '';
            document.getElementById('deposit').value = '';
            document.getElementById('otherIncome').value = '0';
            document.getElementById('customPeriod').value = '';
            document.querySelector('input[name="houseCount"][value="1"]').checked = true;
            document.querySelector('input[name="rentalPeriod"][value="12"]').checked = true;
            document.querySelector('input[name="expenseRate"][value="basic"]').checked = true;
            document.getElementById('customPeriodSection').style.display = 'none';
            document.getElementById('resultSection').style.display = 'none';
            window.scrollTo({ top: 0, behavior: 'smooth' });
        }

        // ê²°ê³¼ ê³µìœ 
        function shareResult() {
            const separateTax = document.getElementById('separateTax').textContent;
            const recommendation = document.getElementById('recommendation').textContent;
            const text = `ë¶€ë™ì‚°ê³„ì‚°í•˜ê¸°ì—ì„œ ì„ëŒ€ì†Œë“ì„¸ë¥¼ ê³„ì‚°í–ˆì–´ìš”!\në¶„ë¦¬ê³¼ì„¸: ${separateTax}\nì¶”ì²œ: ${recommendation}`;
            
            if (navigator.share) {
                navigator.share({
                    title: 'ì„ëŒ€ì†Œë“ì„¸ ê³„ì‚° ê²°ê³¼',
                    text: text
                });
            } else {
                alert('ê²°ê³¼ê°€ í´ë¦½ë³´ë“œì— ë³µì‚¬ë˜ì—ˆìŠµë‹ˆë‹¤!');
                navigator.clipboard.writeText(text);
            }
        }
    </script>
</body>
</html>
